<ion-side-menus>

    <ion-pane ion-side-menu-content>
        <ion-nav-bar class="bar-positive nav-title-slide-ios7">
            <ion-nav-back-button class="button-clear">
            	<i class="icon ion-ios7-arrow-back"></i>
            		Back
            	</ion-nav-back-button>
        </ion-nav-bar>
        <ion-nav-view name="menuContent" animation="slide-left-right"></ion-nav-view>
    </ion-pane>

    <ion-side-menu side="left" expose-aside-when="(min-width:769px)">
        <header class="bar bar-header bar-light">
            <h1 class="title">Settings</h1>
        </header>
        <ion-content class="has-header">
            <ion-list>
				<ion-item class="item-input-inset">
					<button class="button button-small button-icon icon ion-ios7-minus-outline"
					        ng-disabled="!journalData.has_journals()"
					        ng-click="journalData.show_delete = !journalData.show_delete">
					</button>
				
					<label class="item-input-wrapper">
					<input type="text" placeholder="Journal" ng-model="menuData.name">
					</label>
					
					<button class="button button-small button-icon icon ion-ios7-plus-outline"
					        ng-disabled="!menuData.name || journalData.has_journal(menuData.name)"
					        ng-click="submit(); journalData.show_delete = false">
					</button>
				</ion-item>
            
            	<ion-list show-delete="journalData.show_delete">
		            <ion-item class="item-icon-left" nav-clear menu-close
		                      ng-repeat="journal in journalData.journals | filter: menuData.name"
		                      href="#/app/journal/{{journal}}">		                
		                
		                <div class="icon">
		                
			            <img ng-cache ng-init="o = {poster:journal}; avatarData.load_avatar(o)"
			                          ng-src="{{o.$$avatar}}"
			                          style="width: 1em;">

		                </div>		                
	                
		                {{journal}}
						<ion-delete-button class="ion-minus-circled"
							               ng-click="journalData.delete_journal(journal)">
						</ion-delete-button>                    
		            </ion-item>                
            	</ion-list>
                
                <ion-item class="item-divider">
                </ion-item>            
                <ion-item class="item-icon-left" nav-clear menu-close href="#/app/search">
                    <i class="icon ion-ios7-search-strong"></i>
                    Search
                </ion-item>
                <ion-item class="item-icon-left" nav-clear menu-close href="#/app/browse">
                    <i class="icon ion-ios7-world-outline"></i>
                    Browse
                </ion-item>                
                <ion-item class="item-icon-left" nav-clear menu-close href="#/app/about">
                    <i class="icon ion-ios7-information-outline"></i>
                    About
                </ion-item>                
                <ion-item class="item-divider">
                </ion-item>            
                <ion-item class="item-icon-left" nav-clear menu-close ng-click="login()">
                    <i class="icon ion-log-in"></i>
                    Login
                </ion-item>
            </ion-list>
        </ion-content>
    </ion-side-menu>
</ion-side-menus>

